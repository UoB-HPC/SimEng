---
# This file is based off of the current tx2.yaml config and serves as an example configuration for RISC-V cores.
# The following resources where utilised to create the config file and naming schemes:
# https://en.wikichip.org/wiki/cavium/microarchitectures/vulcan

Core:
  ISA: rv64
  Simulation-Mode: outoforder
  Clock-Frequency: 2.5
  Fetch-Block-Size: 32
Fetch:
  Fetch-Block-Size: 32
  Loop-Buffer-Size: 0
  Loop-Detection-Threshold: 0
Process-Image:
  Mmap-Size: 1073741824
  Heap-Size: 1073741824
  Stack-Size: 1048576
Register-Set:
  GeneralPurpose-Count: 154
  FloatingPoint-Count: 90
Pipeline-Widths:
  Commit: 4
  Dispatch-Rate: 4
  FrontEnd: 4
  LSQ-Completion: 2
Queue-Sizes:
  ROB: 180
  Load: 64
  Store: 36
Branch-Predictor:
  BTB-Tag-Bits: 11
  Saturating-Count-Bits: 2
  Global-History-Length: 10
  RAS-entries: 1
  Fallback-Static-Predictor: "Always-Taken"
  Branch-Predictor:
  BTB-bitlength: 16
Memory-Hierarchy:
  Cache-Line-Width: 128
  L1-Data: # Currently not in use
    Access-Latency: 4
    Size: 32768 # 32 KiB
  DRAM:
    Access-Latency: 4
    Size: 2684354560 # 2.5 GiB
LSQ-Memory-Interface:
  Exclusive: False
  Load-Bandwidth: 32
  Store-Bandwidth: 16
  Permitted-Requests-Per-Cycle: 2
  Permitted-Loads-Per-Cycle: 2
  Permitted-Stores-Per-Cycle: 1
Ports:
  0:
    Portname: Port 0
    Instruction-Support:
      - INT_SIMPLE
      - INT_MUL
  1:
    Portname: Port 1
    Instruction-Support:
      - INT
  2:
    Portname: Port 2
    Instruction-Support:
      - INT_SIMPLE
      - INT_MUL
      - BRANCH
  3:
    Portname: Port 4
    Instruction-Support:
      - LOAD
  4:
    Portname: Port 5
    Instruction-Support:
      - LOAD
  5:
    Portname: Port 3
    Instruction-Support:
      - STORE
Reservation-Stations:
  0:
    Size: 60
    Dispatch-Rate: 4
    Ports:
      - Port 0
      - Port 1
      - Port 2
      - Port 4
      - Port 5
      - Port 3
Execution-Units:
  0:
    Pipelined: True
  1:
    Pipelined: True
  2:
    Pipelined: True
  3:
    Pipelined: True
  4:
    Pipelined: True
  5:
    Pipelined: True
Latencies:
  0:
    Instruction-Groups:
      - INT_SIMPLE_ARTH
      - INT_SIMPLE_LOGICAL
    Execution-Latency: 1
    Execution-Throughput: 1
  1:
    Instruction-Groups:
      - INT_MUL
    Execution-Latency: 5
    Execution-Throughput: 1
  2:
    Instruction-Groups:
      - INT_DIV
    Execution-Latency: 39
    Execution-Throughput: 39
# CPU-Info mainly used to generate a replica of the special (or system) file directory
# structure
CPU-Info:
  # Set Generate-Special-Dir to 'T' to generate the special files directory, or to 'F' to not.
  # (Not generating the special files directory may require the user to copy over files manually)
  Generate-Special-Dir: true
  # Core-Count MUST be 1 as multi-core is not supported at this time. (TX2 true value is 32)
  Core-Count: 1
  # Socket-Count MUST be 1 as multi-socket simulations are not supported at this time. (TX2 true value is 2)
  Socket-Count: 1
  # SMT MUST be 1 as Simultanious-Multi-Threading is not supported at this time. (TX2 true value is 4)
  SMT: 1
  # Below are the values needed to generate /proc/cpuinfo
  BogoMIPS: 400.00
  Features: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics cpuid asimdrdm
  CPU-Implementer: "0x43"
  CPU-Architecture: 8
  CPU-Variant: "0x1"
  CPU-Part: "0x0af"
  CPU-Revision: 2
  # Package-Count is used to generate
  # /sys/devices/system/cpu/cpu{0..Core-Count}/topology/{physical_package_id, core_id}
  Package-Count: 1
Environment-Variables:
  - "OMP_NUM_THREADS=1"